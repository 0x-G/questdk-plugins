import {
  type SwapActionParams,
  GreaterThanOrEqual,
} from '@rabbitholegg/questdk'
import { parseUnits } from 'viem'
import { createTestCase, type TestParams } from './utils'
import { ARBITRUM_ONE } from './constants'

export const PARASWAP_SIMPLESWAP: TestParams<SwapActionParams> = {
  transaction: {
    chainId: 42161,
    from: '0x865c301c46d64de5c9b124ec1a97ef1efc1bcbd1',
    to: '0xdef171fe48cf0115b1d80b88dc8eab59176fee57',
    hash: '0xfe3d97d0132b73fa9cfcb4ea4fe7eafdc70bae19a1912b14a46356420866f7e9',
    input: '0x54e3f31b0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000912ce59144191c1204e64559fe8253a0e49e6548000000000000000000000000af88d065e77c8cc2239327c5edb3a432268e58310000000000000000000000000000000000000000000000000e3ea36e8f91d5530000000000000000000000000000000000000000000000000000000000110a310000000000000000000000000000000000000000000000000000000000112d4f00000000000000000000000000000000000000000000000000000000000001e0000000000000000000000000000000000000000000000000000000000000024000000000000000000000000000000000000000000000000000000000000003800000000000000000000000000000000000000000000000000000000000000400000000000000000000000000865c301c46d64de5c9b124ec1a97ef1efc1bcbd1000000000000000000000000fa2c1be677be4bec8851d1577b343f7060b51e3a010000000000000000000000000000000000000000000000000000000000401e00000000000000000000000000000000000000000000000000000000000004600000000000000000000000000000000000000000000000000000000065842857e5365097d06f420e915f1f8fb8777c3e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000912ce59144191c1204e64559fe8253a0e49e6548000000000000000000000000eff23b4be1091b53205e35f3afcd9c7182bf30620000000000000000000000000000000000000000000000000000000000000108a9059cbb000000000000000000000000eff23b4be1091b53205e35f3afcd9c7182bf30620000000000000000000000000000000000000000000000000e3ea36e8f91d5537dc20382000000000000000000000000912ce59144191c1204e64559fe8253a0e49e6548000000000000000000000000af88d065e77c8cc2239327c5edb3a432268e58310000000000000000000000000000000000000000000000000e3ea36e8f91d5530000000000000000000000000000000000000000000000000000000000000001000000000000000000000000def171fe48cf0115b1d80b88dc8eab59176fee57000000000000000000000000d5b927956057075377263aab7f8afc12f85100db00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004400000000000000000000000000000000000000000000000000000000000001080000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
    value: '0',
  },
  params: {
    chainId: ARBITRUM_ONE,
    tokenIn: '0x912CE59144191C1204E64559FE8253a0e49E6548', // ARB
    tokenOut: '0xaf88d065e77c8cC2239327C5EDb3A432268e5831', // USDC
    amountIn: GreaterThanOrEqual(parseUnits('1', 18)),
    amountOut: GreaterThanOrEqual(parseUnits('1.11', 6)),
    recipient: '0x865c301c46d64de5c9b124ec1a97ef1efc1bcbd1',
  }
}

export const PARASWAP_MULTISWAP: TestParams<SwapActionParams> = {
  transaction: {
    chainId: 42161,
    from: '0x865c301c46d64de5c9b124ec1a97ef1efc1bcbd1',
    to: '0xdef171fe48cf0115b1d80b88dc8eab59176fee57',
    hash: '0x4345c0080add9f7e06db72efc82b5dafc045618d9b8369be68586401f4fc7911',
    input: '0xa94e78ef0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000539bde0d7dbd336b79148aa742883198bbf6034200000000000000000000000000000000000000000000000029a2241af62c0000000000000000000000000000000000000000000000000000239da6ab876c8d5300000000000000000000000000000000000000000000000023e70aa1250b1880000000000000000000000000865c301c46d64de5c9b124ec1a97ef1efc1bcbd10000000000000000000000000000000000000000000000000000000000000160000000000000000000000000fa2c1be677be4bec8851d1577b343f7060b51e3a010000000000000000000000000000000000000000000000000000000000401e0000000000000000000000000000000000000000000000000000000000000740000000000000000000000000000000000000000000000000000000006584240629e09fed404b4c03ad7c8d37697b223800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000320000000000000000000000000ff970a61a04b1ca14834a43f5de4533ebddb5cc80000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000369a2fdb910d432f0a07381a5e3d27572c876713000000000000000000000000000000000000000000000000000000000000271000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000003000000000000000000000000e592427a0aece92de3edee1f18e0157c05861564000000000000000000000000000000000000000000000000000000000000271000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000658d0a25000000000000000000000000000000000000000000000000000000000000002b539bde0d7dbd336b79148aa742883198bbf60342002710ff970a61a04b1ca14834a43f5de4533ebddb5cc80000000000000000000000000000000000000000000000000000000000000000008616e8ea83f048ab9a5ec513c9412dd2993bce3f0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000369a2fdb910d432f0a07381a5e3d27572c876713000000000000000000000000000000000000000000000000000000000000271000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000006000000000000000000000000d0dd5d76cf0fc06dabc48632735566dca241a35e000000000000000000000000000000000000000000000000000000000000271000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000',
    value: '0',
  },
  params: {
    chainId: ARBITRUM_ONE,
    tokenIn: '0x539bde0d7dbd336b79148aa742883198bbf60342', // MAGIC
    tokenOut: '0x8616e8ea83f048ab9a5ec513c9412dd2993bce3f', // fxUSD
    amountIn: GreaterThanOrEqual(parseUnits('3', 18)),
    amountOut: GreaterThanOrEqual(parseUnits('2.51', 18)),
    recipient: '0x865c301c46d64de5c9b124ec1a97ef1efc1bcbd1',
  }
}

export const PARASWAP_UNI_V3: TestParams<SwapActionParams> = {
  transaction: {
    chainId: 42161,
    from: '0x865c301c46d64de5c9b124ec1a97ef1efc1bcbd1',
    to: '0xdef171fe48cf0115b1d80b88dc8eab59176fee57',
    hash: '0xdc4f726560293b41a0ee72048e2d94970a45a046d88447444dab8bc54cb25a94',
    input: '0xa6886da90000000000000000000000000000000000000000000000000000000000000020000000000000000000000000539bde0d7dbd336b79148aa742883198bbf60342000000000000000000000000912ce59144191c1204e64559fe8253a0e49e6548000000000000000000000000e592427a0aece92de3edee1f18e0157c058615640000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000a90764f1672a2ca0000000000000000000000000000000000000000000000000aa63b29581ed266010000000000000000000000000000000000000000000000000000000000401e00000000000000000000000000000000000000000000000000000000658404ab000000000000000000000000fa2c1be677be4bec8851d1577b343f7060b51e3a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000865c301c46d64de5c9b124ec1a97ef1efc1bcbd100000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000000220e2986323ad904dbf827dc23846a7149700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002b539bde0d7dbd336b79148aa742883198bbf60342002710912ce59144191c1204e64559fe8253a0e49e65480000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
    value: '0',
  },
  params: {
    chainId: ARBITRUM_ONE,
    tokenIn: '0x539bde0d7dbd336b79148aa742883198bbf60342', // MAGIC
    tokenOut: '0x912ce59144191c1204e64559fe8253a0e49e6548', // fxUSD
    amountIn: GreaterThanOrEqual(parseUnits('1', 18)),
    amountOut: GreaterThanOrEqual(parseUnits('0.74', 18)),
    recipient: '0x865c301c46d64de5c9b124ec1a97ef1efc1bcbd1',
  }
} 

export const PARASWAP_FAIL: TestParams<SwapActionParams> = {
  transaction: {
    chainId: 42161,
    from: '0x9a1385dded2c1c00b8ac11e6597e86f3879a3403',
    to: '0xdef171fe48cf0115b1d80b88dc8eab59176fee57',
    hash: '0x87724762847aa87653a3ee3b06ea0ea2ea2c0bf5a08012d9fc005fdc9241b7d1',
    input: '0x54e3f31b0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000d77b108d4f6cefaa0cae9506a934e825becca46e000000000000000000000000ff970a61a04b1ca14834a43f5de4533ebddb5cc800000000000000000000000000000000000000000000019e1ae5ee6e872c7e3800000000000000000000000000000000000000000000000000000000387c2a870000000000000000000000000000000000000000000000000000000038c4d48d00000000000000000000000000000000000000000000000000000000000001e00000000000000000000000000000000000000000000000000000000000000220000000000000000000000000000000000000000000000000000000000000038000000000000000000000000000000000000000000000000000000000000003e00000000000000000000000009a1385dded2c1c00b8ac11e6597e86f3879a3403000000000000000000000000353d2d14bb674892910685520ac040f560ccbc0601000000000000000000000000000000000000000000000000000000000313880000000000000000000000000000000000000000000000000000000000000420000000000000000000000000000000000000000000000000000000006583dc2b4c450c4adba14732a0cf0aa7d765f4b90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000001f721e2e82f6676fce4ea07a5958cf098d339e180000000000000000000000000000000000000000000000000000000000000124c04b8d59000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000def171fe48cf0115b1d80b88dc8eab59176fee5700000000000000000000000000000000000000000000000000000000658d11fb00000000000000000000000000000000000000000000019e1ae5ee6e872c7e3800000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000028d77b108d4f6cefaa0cae9506a934e825becca46eff970a61a04b1ca14834a43f5de4533ebddb5cc800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000124000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
    value: '0',
  },
  params: {
    chainId: ARBITRUM_ONE,
  }
}

export const passingTestCases = [
  createTestCase(PARASWAP_SIMPLESWAP, 'when routed through paraswap (simpleswap)'),
  createTestCase(PARASWAP_MULTISWAP, 'when routed through paraswap (multiswap)'),
  createTestCase(PARASWAP_UNI_V3, 'when routed through paraswap (uniV3Swap)'),
]

export const failingTestCases = [
  createTestCase(PARASWAP_FAIL, 'when using paraswap route not referred by handlefi')
]

/* 
  transaction: {
    chainId: 42161,
    from: '',
    to: '',
    hash: '',
    input: '',
    amount: '',
  },
  params: {
    chainId: 42161,
    tokenIn: '',
    tokenOut: '',
    amountIn: GreaterThanOrEqual(parseUnits('', 18)),
    amountOut: GreaterThanOrEqual(parseUnits('', 18)),
    recipient: '',
  }
*/