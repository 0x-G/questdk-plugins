import {
  type SwapActionParams,
  GreaterThanOrEqual,
} from '@rabbitholegg/questdk'
import { parseEther, parseUnits, zeroAddress } from 'viem'
import { createTestCase, type TestParams } from './utils'
import { ARBITRUM_ONE } from './constants'


// Paraswap Test Txs
export const PARASWAP_SIMPLESWAP: TestParams<SwapActionParams> = {
  transaction: {
    chainId: 42161,
    from: '0x865c301c46d64de5c9b124ec1a97ef1efc1bcbd1',
    to: '0xdef171fe48cf0115b1d80b88dc8eab59176fee57',
    hash: '0xfe3d97d0132b73fa9cfcb4ea4fe7eafdc70bae19a1912b14a46356420866f7e9',
    input: '0x54e3f31b0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000912ce59144191c1204e64559fe8253a0e49e6548000000000000000000000000af88d065e77c8cc2239327c5edb3a432268e58310000000000000000000000000000000000000000000000000e3ea36e8f91d5530000000000000000000000000000000000000000000000000000000000110a310000000000000000000000000000000000000000000000000000000000112d4f00000000000000000000000000000000000000000000000000000000000001e0000000000000000000000000000000000000000000000000000000000000024000000000000000000000000000000000000000000000000000000000000003800000000000000000000000000000000000000000000000000000000000000400000000000000000000000000865c301c46d64de5c9b124ec1a97ef1efc1bcbd1000000000000000000000000fa2c1be677be4bec8851d1577b343f7060b51e3a010000000000000000000000000000000000000000000000000000000000401e00000000000000000000000000000000000000000000000000000000000004600000000000000000000000000000000000000000000000000000000065842857e5365097d06f420e915f1f8fb8777c3e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000912ce59144191c1204e64559fe8253a0e49e6548000000000000000000000000eff23b4be1091b53205e35f3afcd9c7182bf30620000000000000000000000000000000000000000000000000000000000000108a9059cbb000000000000000000000000eff23b4be1091b53205e35f3afcd9c7182bf30620000000000000000000000000000000000000000000000000e3ea36e8f91d5537dc20382000000000000000000000000912ce59144191c1204e64559fe8253a0e49e6548000000000000000000000000af88d065e77c8cc2239327c5edb3a432268e58310000000000000000000000000000000000000000000000000e3ea36e8f91d5530000000000000000000000000000000000000000000000000000000000000001000000000000000000000000def171fe48cf0115b1d80b88dc8eab59176fee57000000000000000000000000d5b927956057075377263aab7f8afc12f85100db00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004400000000000000000000000000000000000000000000000000000000000001080000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
    value: '0',
  },
  params: {
    chainId: ARBITRUM_ONE,
    tokenIn: '0x912CE59144191C1204E64559FE8253a0e49E6548', // ARB
    tokenOut: '0xaf88d065e77c8cC2239327C5EDb3A432268e5831', // USDC
    amountIn: GreaterThanOrEqual(parseUnits('1', 18)),
    amountOut: GreaterThanOrEqual(parseUnits('1.11', 6)),
    recipient: '0x865c301c46d64de5c9b124ec1a97ef1efc1bcbd1',
  }
}

export const PARASWAP_MULTISWAP: TestParams<SwapActionParams> = {
  transaction: {
    chainId: 42161,
    from: '0x865c301c46d64de5c9b124ec1a97ef1efc1bcbd1',
    to: '0xdef171fe48cf0115b1d80b88dc8eab59176fee57',
    hash: '0x4345c0080add9f7e06db72efc82b5dafc045618d9b8369be68586401f4fc7911',
    input: '0xa94e78ef0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000539bde0d7dbd336b79148aa742883198bbf6034200000000000000000000000000000000000000000000000029a2241af62c0000000000000000000000000000000000000000000000000000239da6ab876c8d5300000000000000000000000000000000000000000000000023e70aa1250b1880000000000000000000000000865c301c46d64de5c9b124ec1a97ef1efc1bcbd10000000000000000000000000000000000000000000000000000000000000160000000000000000000000000fa2c1be677be4bec8851d1577b343f7060b51e3a010000000000000000000000000000000000000000000000000000000000401e0000000000000000000000000000000000000000000000000000000000000740000000000000000000000000000000000000000000000000000000006584240629e09fed404b4c03ad7c8d37697b223800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000320000000000000000000000000ff970a61a04b1ca14834a43f5de4533ebddb5cc80000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000369a2fdb910d432f0a07381a5e3d27572c876713000000000000000000000000000000000000000000000000000000000000271000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000003000000000000000000000000e592427a0aece92de3edee1f18e0157c05861564000000000000000000000000000000000000000000000000000000000000271000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000658d0a25000000000000000000000000000000000000000000000000000000000000002b539bde0d7dbd336b79148aa742883198bbf60342002710ff970a61a04b1ca14834a43f5de4533ebddb5cc80000000000000000000000000000000000000000000000000000000000000000008616e8ea83f048ab9a5ec513c9412dd2993bce3f0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000369a2fdb910d432f0a07381a5e3d27572c876713000000000000000000000000000000000000000000000000000000000000271000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000006000000000000000000000000d0dd5d76cf0fc06dabc48632735566dca241a35e000000000000000000000000000000000000000000000000000000000000271000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000',
    value: '0',
  },
  params: {
    chainId: ARBITRUM_ONE,
    tokenIn: '0x539bde0d7dbd336b79148aa742883198bbf60342', // MAGIC
    tokenOut: '0x8616e8ea83f048ab9a5ec513c9412dd2993bce3f', // fxUSD
    amountIn: GreaterThanOrEqual(parseUnits('3', 18)),
    amountOut: GreaterThanOrEqual(parseUnits('2.51', 18)),
    recipient: '0x865c301c46d64de5c9b124ec1a97ef1efc1bcbd1',
  }
}

export const PARASWAP_UNI_V3: TestParams<SwapActionParams> = {
  transaction: {
    chainId: 42161,
    from: '0x865c301c46d64de5c9b124ec1a97ef1efc1bcbd1',
    to: '0xdef171fe48cf0115b1d80b88dc8eab59176fee57',
    hash: '0xdc4f726560293b41a0ee72048e2d94970a45a046d88447444dab8bc54cb25a94',
    input: '0xa6886da90000000000000000000000000000000000000000000000000000000000000020000000000000000000000000539bde0d7dbd336b79148aa742883198bbf60342000000000000000000000000912ce59144191c1204e64559fe8253a0e49e6548000000000000000000000000e592427a0aece92de3edee1f18e0157c058615640000000000000000000000000000000000000000000000000de0b6b3a76400000000000000000000000000000000000000000000000000000a90764f1672a2ca0000000000000000000000000000000000000000000000000aa63b29581ed266010000000000000000000000000000000000000000000000000000000000401e00000000000000000000000000000000000000000000000000000000658404ab000000000000000000000000fa2c1be677be4bec8851d1577b343f7060b51e3a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000865c301c46d64de5c9b124ec1a97ef1efc1bcbd100000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000000220e2986323ad904dbf827dc23846a7149700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002b539bde0d7dbd336b79148aa742883198bbf60342002710912ce59144191c1204e64559fe8253a0e49e65480000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
    value: '0',
  },
  params: {
    chainId: ARBITRUM_ONE,
    tokenIn: '0x539bde0d7dbd336b79148aa742883198bbf60342', // MAGIC
    tokenOut: '0x912ce59144191c1204e64559fe8253a0e49e6548', // ARB
    amountIn: GreaterThanOrEqual(parseUnits('1', 18)),
    amountOut: GreaterThanOrEqual(parseUnits('0.74', 18)),
    recipient: '0x865c301c46d64de5c9b124ec1a97ef1efc1bcbd1',
  }
} 

export const PARASWAP_FAIL: TestParams<SwapActionParams> = {
  transaction: {
    chainId: 42161,
    from: '0x9a1385dded2c1c00b8ac11e6597e86f3879a3403',
    to: '0xdef171fe48cf0115b1d80b88dc8eab59176fee57',
    hash: '0x87724762847aa87653a3ee3b06ea0ea2ea2c0bf5a08012d9fc005fdc9241b7d1',
    input: '0x54e3f31b0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000d77b108d4f6cefaa0cae9506a934e825becca46e000000000000000000000000ff970a61a04b1ca14834a43f5de4533ebddb5cc800000000000000000000000000000000000000000000019e1ae5ee6e872c7e3800000000000000000000000000000000000000000000000000000000387c2a870000000000000000000000000000000000000000000000000000000038c4d48d00000000000000000000000000000000000000000000000000000000000001e00000000000000000000000000000000000000000000000000000000000000220000000000000000000000000000000000000000000000000000000000000038000000000000000000000000000000000000000000000000000000000000003e00000000000000000000000009a1385dded2c1c00b8ac11e6597e86f3879a3403000000000000000000000000353d2d14bb674892910685520ac040f560ccbc0601000000000000000000000000000000000000000000000000000000000313880000000000000000000000000000000000000000000000000000000000000420000000000000000000000000000000000000000000000000000000006583dc2b4c450c4adba14732a0cf0aa7d765f4b90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000001f721e2e82f6676fce4ea07a5958cf098d339e180000000000000000000000000000000000000000000000000000000000000124c04b8d59000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000def171fe48cf0115b1d80b88dc8eab59176fee5700000000000000000000000000000000000000000000000000000000658d11fb00000000000000000000000000000000000000000000019e1ae5ee6e872c7e3800000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000028d77b108d4f6cefaa0cae9506a934e825becca46eff970a61a04b1ca14834a43f5de4533ebddb5cc800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000124000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
    value: '0',
  },
  params: {
    chainId: ARBITRUM_ONE,
  }
}

// V2 router 
export const V2_ROUTER_ETH_TOKENS: TestParams<SwapActionParams> = {
  transaction: {
    chainId: 42161,
    from: '0x865c301c46d64de5c9b124ec1a97ef1efc1bcbd1',
    to: '0x434b5245f6fe54d0c9f881d55c2ba27fe7132d89',
    hash: '0x0e01ef19061c3e16bfa91f48c9120ae408ac8014015f714a80e73b9ae7a61429',
    input: '0x481e17e300000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000001ec9ef3426a30660000000000000000000000000865c301c46d64de5c9b124ec1a97ef1efc1bcbd100000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000000200000000000000000000000082af49447d8a07e3bd95bd0d56f35241523fbab10000000000000000000000008616e8ea83f048ab9a5ec513c9412dd2993bce3f0000000000000000000000000000000000000000000000000000000000000380000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000014000000000000000000000000000000000000000000000000000000000000001a00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000026000000000000000000000000000000000000000000000000000000000000002c0000000000000000000000000000000000000000000000000000000000000000200000000000000000000000082af49447d8a07e3bd95bd0d56f35241523fbab10000000000000000000000008616e8ea83f048ab9a5ec513c9412dd2993bce3f000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000033fe26fca00000000000000000000000000000000000000000000000000000000005f5e1000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000006584848d000000000000000000000000000000000000000000000000000000006584848d0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000006584846f000000000000000000000000000000000000000000000000000000006584846f0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000027600000000000000000000000000000000000000000000000000000000000002760000000000000000000000000000000000000000000000000000000000000082423b14e6f1a36dc93726f5b2878680533e8f946a794d588287ecb8b923ff8ec35f25548c1c04a9320609350c0f49a3529cf3593d9189e5c3c9817f9b98cc58781c2afb0ef760759ceb8c931dbb1f5530ceea061db5c053da826fd7470386eaf85b35dcbee6a27cca94f9d5891317bd625a92221973fd79f06346b21874d6b3a5391b000000000000000000000000000000000000000000000000000000000000',
    value: '1000000000000000',
  },
  params: {
    chainId: ARBITRUM_ONE,
    tokenIn: zeroAddress, // ETH
    tokenOut: '0x8616e8ea83f048ab9a5ec513c9412dd2993bce3f', // fxUSD
    amountIn: GreaterThanOrEqual(parseEther('0.001')),
    amountOut: GreaterThanOrEqual(parseUnits('2.2185', 18)),
    recipient: '0x865c301c46d64de5c9b124ec1a97ef1efc1bcbd1',
  }
} 

export const V2_ROUTER_TOKENS_ETH: TestParams<SwapActionParams> = {
  transaction: {
    chainId: 42161,
    from: '0x4806032267387c9e6aab509b497a765d0aca7f61',
    to: '0x434b5245f6fe54d0c9f881d55c2ba27fe7132d89',
    hash: '0x506705b15f164d17d8a14c4a7504643c4d3790ed61d25de39aef759502ebbbe5',
    input: '0xcccc6e0500000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000064d7deb5b8f2ecaa000000000000000000000000000000000000000000000000000cb289cf449be90000000000000000000000004806032267387c9e6aab509b497a765d0aca7f6100000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000116172b2482c5dc3e6f445c16ac13367ac3fcd3500000000000000000000000082af49447d8a07e3bd95bd0d56f35241523fbab10000000000000000000000000000000000000000000000000000000000000380000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000014000000000000000000000000000000000000000000000000000000000000001a00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000026000000000000000000000000000000000000000000000000000000000000002c00000000000000000000000000000000000000000000000000000000000000002000000000000000000000000116172b2482c5dc3e6f445c16ac13367ac3fcd3500000000000000000000000082af49447d8a07e3bd95bd0d56f35241523fbab1000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000068e296000000000000000000000000000000000000000000000000000000033b29150ff000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000658496f700000000000000000000000000000000000000000000000000000000658496f7000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000658496d900000000000000000000000000000000000000000000000000000000658496d900000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000276000000000000000000000000000000000000000000000000000000000000027600000000000000000000000000000000000000000000000000000000000000827b0b81d2992c30d41e44cb7d3c48cbc682e52f739acc06217340cd7c6dd7435f0298b07426b238ed56bbfe6515b3b4a74e88c49e82411af83c71f8602c8441ad1b7d48ebbc834a4caec4a123f65296ed2899d3714c541ec4b7948692001f31b83804576d033737b13423174d19a75e262095d956ad0c4e32a55f52110481dace381c000000000000000000000000000000000000000000000000000000000000',
    value: '0',
  },
  params: {
    chainId: ARBITRUM_ONE,
    tokenIn: '0x116172b2482c5dc3e6f445c16ac13367ac3fcd35', // fxEUR
    tokenOut: zeroAddress, // ETH
    amountIn: GreaterThanOrEqual(parseUnits('7.26', 18)),
    amountOut: GreaterThanOrEqual(parseEther('0.0035')),
    recipient: '0x4806032267387c9e6aab509b497a765d0aca7f61',
  }
} 

export const passingTestCases = [
  createTestCase(PARASWAP_SIMPLESWAP, 'when routed through paraswap (simpleswap)'),
  createTestCase(PARASWAP_MULTISWAP, 'when routed through paraswap (multiswap)'),
  createTestCase(PARASWAP_UNI_V3, 'when routed through paraswap (uniV3Swap)'),
  createTestCase(V2_ROUTER_ETH_TOKENS, 'when routed through V2 router (ETH To Tokens)'),
  createTestCase(V2_ROUTER_TOKENS_ETH, 'when routed through V2 router (Tokens To ETH)'),
]

export const failingTestCases = [
  createTestCase(PARASWAP_FAIL, 'when using paraswap route not referred by handlefi')
]

/* 
  transaction: {
    chainId: 42161,
    from: '',
    to: '',
    hash: '',
    input: '',
    amount: '',
  },
  params: {
    chainId: 42161,
    tokenIn: '',
    tokenOut: '',
    amountIn: GreaterThanOrEqual(parseUnits('', 18)),
    amountOut: GreaterThanOrEqual(parseUnits('', 18)),
    recipient: '',
  }
*/