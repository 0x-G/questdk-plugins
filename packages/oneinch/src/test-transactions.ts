import { type SwapActionParams } from "@rabbitholegg/questdk";
import { GreaterThanOrEqual } from "@rabbitholegg/questdk";
import {
  createTestCase,
  type TestParams,
  Chains,
} from "@rabbitholegg/questdk-plugin-utils";
import { parseEther, parseUnits } from "viem";

// demo transaction. please replace with a real one
export const SAMPLE_SWAP_TX: TestParams<SwapActionParams> = {
  transaction: {
    from: "0xfde7df2afa7766e675480940131822369c459d49",
    hash: "0xe1369312a9ed2051eb060b94617cd192f56954a1e654685f3d5bb7212cbf75b4",
    input:
      "0x7c025200000000000000000000000000e37e799d5077682fa0a244d46e5649f71457bd0900000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000180000000000000000000000000eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee000000000000000000000000dac17f958d2ee523a2206206994597c13d831ec7000000000000000000000000e37e799d5077682fa0a244d46e5649f71457bd09000000000000000000000000fde7df2afa7766e675480940131822369c459d4900000000000000000000000000000000000000000000000002669494370cd00000000000000000000000000000000000000000000000000000000000179a8a04000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010f0000000000000000000000000000000000000000d100006e00005400004e802026678dcd0000000000000000000000000000000000000000c566940cf6ddbf6836185a6ba9edf2c00e84d362000000000000000000000000000000000000000000000000000c4aa6cde6a80000206b4be0b94041c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2d0e30db002a000000000000000000000000000000000000000000000000000000000179a8a04ee63c1e58111b815efb8f581194ae79006d24e0d814b7697f6c02aaa39b223fe8d0a0e5c4f27ead9083c756cc21111111254fb6c44bac0bed2854e76f90643097d00000000000000000000000000000000000000000000000002669494370cd00000000000000000000000000000000000003db5cd3b",
    to: "0x1111111254fb6c44bac0bed2854e76f90643097d",
    value: "172989000000000000",
    chainId: 1,
  },
  params: {
    chainId: Chains.ETHEREUM,
    tokenIn: "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",
    tokenOut: "0xdAC17F958D2ee523a2206206994597C13D831ec7", // USDT
    amountIn: GreaterThanOrEqual(parseEther("0.172989")),
    amountOut: GreaterThanOrEqual(parseUnits("396", 6)),
    recipient: "0xfDE7Df2AFA7766e675480940131822369c459d49",
  },
};

export const passingTestCases = [
  createTestCase(SAMPLE_SWAP_TX, "when doing a swap"),
];

export const failingTestCases = [
  createTestCase(SAMPLE_SWAP_TX, "when amountIn is not sufficient", {
    amountOut: GreaterThanOrEqual(parseEther("100")),
  }),
];
